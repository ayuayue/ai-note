<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI ‰∏™‰∫∫Á¨îËÆ∞ - ÂçïÈ°µÂ∫îÁî®</title>
    <!-- Â∞ΩÊó©ËÆæÁΩÆ SPA Ê®°ÂºèÊ†áÂøóÔºåÈò≤Ê≠¢ fragment ËÑöÊú¨ÂàùÂßãÂåñ mermaid -->
    <script>
      window.IN_SPA_MODE = true;
    </script>
    <meta
      name="description"
      content="ËÆ∞ÂΩï AI ÂçèÂä©Ëß£ÂÜ≥ÁöÑÂêÑÁßçÊäÄÊúØÈóÆÈ¢òÂíåÂ≠¶‰π†Á¨îËÆ∞"
    />
    <meta name="keywords" content="AI, ÊäÄÊúØÁ¨îËÆ∞, Java, Spring, ÂâçÁ´Ø" />
    <style>
      /* Google Fonts for better typography */
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap");

      :root {
        --primary-color: #2c3e50;
        --secondary-color: #3498db;
        --accent-color: #e74c3c;
        --bg-color: #f8f9fa;
        --text-color: #34495e;
        --border-color: #e9ecef;
        --card-bg: #ffffff;
        --hover-color: #f8f9fa;
        --tool-blue: #007bff;
      }

      :root.dark-mode {
        --primary-color: #ecf0f1;
        --secondary-color: #3498db;
        --accent-color: #e74c3c;
        --bg-color: #1a1a1a;
        --text-color: #e0e0e0;
        --border-color: #333333;
        --card-bg: #2d2d2d;
        --hover-color: #3a3a3a;
        --tool-blue: #007bff;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Roboto", "Noto Sans SC", sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background-color: var(--bg-color);
        min-height: 100vh;
        padding: 0;
      }

      .page-wrapper {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* HEADER STYLES - Persistent across all pages */
      .header {
        text-align: center;
        padding: 40px 20px 30px;
        background: linear-gradient(
          135deg,
          #8f94a8 0%,
          #b74a43 50%,
          #ce3321 100%
        );
        border-bottom: none;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        position: relative;
        overflow: hidden;
        flex-shrink: 0;
      }

      .header::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -10%;
        width: 300px;
        height: 300px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .header::after {
        content: "";
        position: absolute;
        bottom: -30%;
        left: -5%;
        width: 250px;
        height: 250px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.08) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .header-content {
        position: relative;
        z-index: 1;
      }

      .header-title-group {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin-bottom: 15px;
      }

      .logo {
        width: 80px;
        height: 80px;
        background: transparent;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        transition: transform 0.3s ease;
        overflow: hidden;
        border: none;
      }

      .logo:hover {
        transform: scale(1.08) rotate(2deg);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.35);
      }

      .logo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }

      .header h1 {
        color: #ffffff;
        font-size: 2.5rem;
        margin-bottom: 0;
        font-weight: 700;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header-subtitle {
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.1rem;
        max-width: 800px;
        margin: 0 auto 20px;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }

      .header-description {
        color: rgba(255, 255, 255, 0.85);
        font-size: 0.95rem;
        max-width: 700px;
        margin: 0 auto 25px;
        line-height: 1.6;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
      }

      .topic-areas {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin: 25px 0 30px;
        flex-wrap: wrap;
      }

      .topic-item {
        display: flex;
        align-items: center;
        gap: 8px;
        background: rgba(255, 255, 255, 0.15);
        padding: 8px 16px;
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.25);
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
      }

      .topic-item:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-1px);
        border-color: rgba(255, 255, 255, 0.35);
      }

      .topic-icon {
        width: 16px;
        height: 16px;
        color: rgba(255, 255, 255, 0.9);
      }

      .topic-name {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.95);
        font-weight: 500;
      }

      .header-tagline {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
        font-style: italic;
        margin: 15px 0 0;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .header-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .theme-toggle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        backdrop-filter: blur(10px);
      }

      .theme-toggle:hover {
        background: rgba(255, 255, 255, 1);
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .theme-toggle svg {
        width: 24px;
        height: 24px;
        color: #ce3321;
        transition: transform 0.3s ease;
      }

      .theme-toggle:hover svg {
        transform: rotate(20deg);
      }

      :root.dark-mode .theme-toggle {
        background: rgba(45, 45, 45, 0.95);
        border-color: rgba(200, 200, 200, 0.3);
      }

      :root.dark-mode .theme-toggle svg {
        color: #ffc107;
      }

      :root.dark-mode .theme-toggle:hover {
        background: rgba(60, 60, 60, 1);
      }

      .github-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        position: fixed;
        top: 20px;
        right: 80px;
        z-index: 1000;
        backdrop-filter: blur(10px);
        text-decoration: none;
      }

      .github-button:hover {
        background: rgba(255, 255, 255, 1);
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .github-button svg {
        width: 24px;
        height: 24px;
        color: #333;
        transition: transform 0.3s ease;
      }

      .github-button:hover svg {
        transform: rotate(10deg);
      }

      :root.dark-mode .github-button {
        background: rgba(45, 45, 45, 0.95);
        border-color: rgba(200, 200, 200, 0.3);
      }

      :root.dark-mode .github-button svg {
        color: #ffffff;
      }

      :root.dark-mode .github-button:hover {
        background: rgba(60, 60, 60, 1);
      }

      .tools-button {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: rgba(255, 255, 255, 0.95);
        color: #ce3321;
        padding: 14px 32px;
        border-radius: 12px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        cursor: pointer;
      }

      .tools-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s ease;
      }

      .tools-button:hover {
        background: rgba(255, 255, 255, 1);
        color: #b74a43;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .tools-button:hover::before {
        left: 100%;
      }

      /* DYNAMIC CONTENT AREA */
      .content {
        flex: 1;
        min-height: calc(100vh - 350px);
        max-width: 1400px;
        margin: 40px auto;
        padding: 20px;
        width: 100%;
      }

      .content-loading {
        text-align: center;
        padding: 60px 20px;
        color: var(--text-color);
      }

      .spinner {
        display: inline-block;
        width: 40px;
        height: 40px;
        border: 4px solid var(--border-color);
        border-radius: 50%;
        border-top-color: var(--secondary-color);
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* FEED STYLES (Homepage content) */
      .warning {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        color: #856404;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 30px;
        text-align: center;
        font-size: 0.9rem;
      }

      :root.dark-mode .warning {
        background-color: rgba(255, 193, 7, 0.15);
        border: 1px solid rgba(255, 193, 7, 0.3);
        color: #ffd54f;
      }

      .feed {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(650px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .feed-item {
        background: var(--card-bg);
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.06);
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
        height: fit-content;
        position: relative;
        overflow: hidden;
        cursor: pointer;
      }

      .feed-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(
          90deg,
          var(--secondary-color),
          var(--primary-color)
        );
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .feed-item:hover::before {
        transform: scaleX(1);
      }

      .feed-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
      }

      .feed-item-header {
        margin-bottom: 15px;
      }

      .feed-item-title {
        color: var(--primary-color);
        font-size: 1.4rem;
        margin-bottom: 12px;
        font-weight: 600;
      }

      .feed-item-title a {
        color: inherit;
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .feed-item-title a:hover {
        color: var(--secondary-color);
      }

      .feed-item-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #6c757d;
        font-size: 0.9rem;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(233, 236, 239, 0.6);
      }

      .feed-item-date {
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .feed-item-date::before {
        content: "üìÖ";
        font-size: 0.85rem;
      }

      .feed-item-category {
        background: linear-gradient(135deg, #e3f2fd, #f3f8ff);
        color: var(--secondary-color);
        padding: 5px 12px;
        border-radius: 20px;
        font-weight: 500;
        font-size: 0.85rem;
        border: 1px solid rgba(52, 152, 219, 0.2);
      }

      .feed-item-content {
        margin-bottom: 20px;
        color: #495057;
        font-size: 1.1rem;
        line-height: 1.7;
      }

      .feed-item-content p {
        margin-bottom: 0;
        line-height: 1.6;
      }

      .feed-item-footer {
        text-align: right;
      }

      .read-more {
        color: var(--secondary-color);
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
      }

      .read-more:hover {
        text-decoration: underline;
      }

      .pagination {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin: 50px 0 40px;
      }

      .pagination a {
        display: inline-block;
        padding: 12px 18px;
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        text-decoration: none;
        color: var(--text-color);
        transition: all 0.3s ease;
        font-weight: 500;
        font-size: 0.95rem;
        cursor: pointer;
      }

      .pagination a:hover {
        background: var(--secondary-color);
        color: white;
        border-color: var(--secondary-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
      }

      .pagination .current {
        background: var(--secondary-color);
        color: white;
        border-color: var(--secondary-color);
        box-shadow: 0 2px 8px rgba(52, 152, 219, 0.25);
      }

      /* ARTICLE DETAIL STYLES */
      /* Back button styles removed - no longer used */

      .post {
        background: var(--card-bg);
        border-radius: 8px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        border: 1px solid var(--border-color);
      }

      .post-header {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
      }

      .post-title {
        color: var(--primary-color);
        font-size: 2rem;
        margin-bottom: 15px;
      }

      .post-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #6c757d;
        font-size: 0.95rem;
      }

      :root.dark-mode .post-meta {
        color: #a0a0a0;
      }

      .post-date {
        background-color: #e3f2fd;
        color: var(--secondary-color);
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: 500;
      }

      :root.dark-mode .post-date {
        background-color: rgba(52, 152, 219, 0.2);
        color: #64b5f6;
      }

      .post-category {
        background-color: #e8f5e9;
        color: #4caf50;
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: 500;
      }

      :root.dark-mode .post-category {
        background-color: rgba(76, 175, 80, 0.2);
        color: #81c784;
      }

      .post-content {
        font-size: 1.05rem;
        line-height: 1.7;
      }

      .post-content h1 {
        color: var(--primary-color);
        font-size: 1.8rem;
        margin: 35px 0 25px 0;
        padding-bottom: 15px;
        border-bottom: 2px solid var(--border-color);
      }

      .post-content h2 {
        color: var(--primary-color);
        font-size: 1.5rem;
        margin: 30px 0 20px 0;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
      }

      .post-content h3 {
        color: #2980b9;
        font-size: 1.3rem;
        margin: 25px 0 15px 0;
      }

      .post-content p {
        margin-bottom: 18px;
      }

      .post-content ul,
      .post-content ol {
        margin: 20px 0;
        padding-left: 35px;
      }

      .post-content li {
        margin-bottom: 10px;
      }

      .post-content code {
        background-color: #e8eaed;
        padding: 3px 7px;
        border-radius: 4px;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo,
          Courier, monospace;
        color: #c0392b;
        font-size: 0.9em;
      }

      :root.dark-mode .post-content code {
        background-color: rgba(255, 255, 255, 0.1);
        color: #f8f8f2;
      }

      .post-content pre {
        background-color: #2d2d2d;
        color: #f8f8f2;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 25px 0;
        font-size: 0.9em;
        line-height: 1.5;
        position: relative;
        overflow: visible;
      }

      .post-content pre code {
        background-color: transparent;
        padding: 0;
        color: inherit;
      }

      .post-content blockquote {
        background-color: #eaf2f8;
        border-left: 5px solid var(--secondary-color);
        padding: 20px;
        margin: 25px 0;
        border-radius: 0 5px 5px 0;
      }

      :root.dark-mode .post-content blockquote {
        background-color: rgba(52, 152, 219, 0.15);
        color: #b3e5fc;
      }

      .post-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        table-layout: auto;
        background-color: #ffffff;
      }

      :root.dark-mode .post-content table {
        background-color: #252525;
      }

      .post-content th,
      .post-content td {
        padding: 14px 16px;
        text-align: left;
        border: 1px solid #d0d0d0;
        word-wrap: break-word;
      }

      :root.dark-mode .post-content th,
      :root.dark-mode .post-content td {
        border: 1px solid #3a3a3a;
      }

      .post-content th {
        background-color: #f5f5f5;
        color: #2c3e50;
        font-weight: 600;
        text-align: left;
        font-size: 0.95rem;
      }

      :root.dark-mode .post-content th {
        background-color: #1f1f1f;
        color: #ecf0f1;
      }

      .post-content tbody tr:nth-child(odd) {
        background-color: #ffffff;
      }

      .post-content tbody tr:nth-child(even) {
        background-color: #f9f9f9;
      }

      .post-content tbody tr:hover {
        background-color: #f0f0f0;
      }

      :root.dark-mode .post-content tbody tr:nth-child(odd) {
        background-color: #252525;
      }

      :root.dark-mode .post-content tbody tr:nth-child(even) {
        background-color: #2d2d2d;
      }

      :root.dark-mode .post-content tbody tr:hover {
        background-color: #353535;
      }

      .post-content a {
        color: var(--secondary-color);
        text-decoration: none;
      }

      .post-content a:hover {
        text-decoration: underline;
      }

      /* Table styles */
      .post-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.95em;
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      }

      .post-content table thead {
        background: linear-gradient(
          135deg,
          var(--secondary-color) 0%,
          #2980b9 100%
        );
        color: white;
        text-align: left;
        font-weight: bold;
      }

      .post-content table th,
      .post-content table td {
        padding: 12px 15px;
        border: 1px solid var(--border-color);
      }

      .post-content table tbody tr {
        border-bottom: 1px solid var(--border-color);
        background-color: var(--card-bg);
      }

      .post-content table tbody tr:nth-of-type(even) {
        background-color: rgba(52, 152, 219, 0.05);
      }

      .post-content table tbody tr:last-of-type {
        border-bottom: 2px solid var(--secondary-color);
      }

      .post-content table tbody tr:hover {
        background-color: rgba(52, 152, 219, 0.1);
        transform: translateY(-1px);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
      }

      /* FOOTER */
      .footer {
        text-align: center;
        padding: 40px 20px;
        color: #6c757d;
        font-size: 0.9rem;
        margin-top: 50px;
        background: linear-gradient(
          135deg,
          var(--card-bg) 0%,
          rgba(52, 152, 219, 0.02) 100%
        );
        border-radius: 12px;
        border: 1px solid var(--border-color);
        flex-shrink: 0;
      }

      .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--secondary-color);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transition: opacity 0.3s;
        cursor: pointer;
      }

      .back-to-top.visible {
        opacity: 1;
      }

      /* PAGE TRANSITION ANIMATION */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .content.fade-in {
        animation: fadeIn 0.3s ease-out;
      }

      @media (max-width: 768px) {
        .content {
          margin: 20px auto;
          padding: 15px;
        }

        .header {
          padding: 30px 15px 25px;
        }

        .header-title-group {
          flex-direction: column;
          gap: 15px;
        }

        .logo {
          width: 50px;
          height: 50px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .header-subtitle {
          font-size: 1rem;
        }

        .feed {
          grid-template-columns: 1fr;
          gap: 25px;
        }

        .feed-item {
          padding: 20px;
        }

        .feed-item-title {
          font-size: 1.2rem;
        }

        .feed-item-meta {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }

        .header-actions {
          flex-direction: column;
          align-items: center;
          gap: 12px;
        }

        .topic-areas {
          gap: 12px;
        }

        .topic-item {
          padding: 6px 12px;
        }

        .topic-name {
          font-size: 0.85rem;
        }

        .header-description {
          font-size: 0.9rem;
          padding: 0 10px;
        }

        .theme-toggle {
          right: 15px;
          top: 15px;
          width: 45px;
          height: 45px;
        }

        .github-button {
          right: 70px;
          top: 15px;
          width: 45px;
          height: 45px;
        }

        .github-button svg,
        .theme-toggle svg {
          width: 20px;
          height: 20px;
        }

        .post-title {
          font-size: 1.6rem;
        }

        .post-content {
          font-size: 1rem;
        }
      }

      /* TOC Styles for Articles */
      .article-layout {
        display: flex;
        max-width: 1400px;
        margin: 0 auto;
        gap: 30px;
        padding: 0 20px;
      }

      .main-content {
        flex: 1;
        min-width: 0;
      }

      .toc-sidebar {
        width: 280px;
        flex-shrink: 0;
        position: sticky;
        top: 20px;
        height: fit-content;
        max-height: calc(100vh - 40px);
        overflow-y: auto;
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .toc-header h3 {
        margin: 0 0 15px 0;
        font-size: 1.1rem;
        color: var(--primary-color);
        border-bottom: 2px solid var(--secondary-color);
        padding-bottom: 10px;
      }

      .toc-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .toc-item {
        margin-bottom: 8px;
      }

      .toc-link {
        display: block;
        padding: 6px 10px;
        color: var(--text-color);
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.2s ease;
        font-size: 0.95rem;
      }

      .toc-link:hover {
        background: var(--secondary-color);
        color: white;
        padding-left: 15px;
      }

      .toc-sublist {
        list-style: none;
        padding-left: 20px;
        margin-top: 5px;
      }

      .toc-sublist .toc-link {
        font-size: 0.9rem;
        opacity: 0.9;
      }

      .post {
        background: var(--card-bg);
        border-radius: 8px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        border: 1px solid var(--border-color);
      }

      .post-header {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
      }

      .post-title {
        color: var(--primary-color);
        font-size: 2rem;
        margin-bottom: 15px;
      }

      .post-meta {
        display: flex;
        gap: 15px;
        align-items: center;
        font-size: 0.95rem;
        color: #6c757d;
      }

      .post-date {
        background-color: #e3f2fd;
        color: var(--secondary-color);
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: 500;
      }

      .post-category {
        background-color: #e8f5e9;
        color: #4caf50;
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: 500;
      }

      .warning {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        color: #856404;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 30px;
        text-align: center;
        font-size: 0.9rem;
      }

      .post-content {
        font-size: 1.05rem;
        line-height: 1.7;
        color: var(--text-color);
      }

      .post-content h1,
      .post-content h2,
      .post-content h3,
      .post-content h4,
      .post-content h5,
      .post-content h6 {
        color: var(--primary-color);
        margin-top: 35px;
        margin-bottom: 20px;
        scroll-margin-top: 20px;
      }

      .post-content h2 {
        font-size: 1.5rem;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
      }

      .post-content h3 {
        font-size: 1.3rem;
        color: #2980b9;
      }

      .post-content p {
        margin-bottom: 18px;
      }

      .post-content code {
        background-color: #e8eaed;
        padding: 3px 7px;
        border-radius: 4px;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo,
          Courier, monospace;
        color: #c0392b;
        font-size: 0.9em;
      }

      /* Copy button styles for SPA */
      .copy-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #1F2020;
        border: 1px solid #1F2020;
        color: white;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        z-index: 9999; /* Â§ßÂπÖÊèêÈ´òz-index */
      }

      .copy-button:hover {
        background: #4caf50;
        border-color: #4caf50;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .copy-button.copied {
        background: #4caf50;
        border-color: #4caf50;
      }

      .post-content pre {
        background-color: #f6f8fa;
        color: #24292e;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 25px 0;
        font-size: 0.9em;
        line-height: 1.5;
        position: relative !important; /* Âº∫Âà∂relativeÂÆö‰Ωç */
        overflow: visible !important; /* Á°Æ‰øùÂÜÖÂÆπ‰∏çÊà™Êñ≠ */
        border: 1px solid #e1e4e8;
      }

      :root.dark-mode .post-content pre {
        background-color: #1d2d3d;
        color: #f8f8f2;
        border-color: #333333;
      }

    :root.dark-mode .post-content pre code {
      color: #f8f8f2;
      background-color: transparent;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 0.9em;
    }
      .post-content pre code {
        background-color: transparent;
        padding: 0;
        color: inherit;
      }

      /* Mermaid diagram styles */
      .post-content .mermaid {
        background-color: transparent;
        text-align: center;
        margin: 25px 0;
        padding: 20px;
      }

      :root.dark-mode .post-content .mermaid {
        background-color: transparent;
      }

      @media (max-width: 1024px) {
        .article-layout {
          flex-direction: column;
        }

        .toc-sidebar {
          width: 100%;
          position: static;
          max-height: none;
        }
      }

      @media (max-width: 768px) {
        .post {
          padding: 20px;
        }

        .post-title {
          font-size: 1.6rem;
        }

        .article-layout {
          padding: 0 15px;
        }
      }
    </style>
    <!-- Mermaid Library -->
    <script src="js/mermaid.min.js"></script>
    <script>
      // ÂÖ≥ÈîÆ‰øÆÂ§çÔºöÂàùÂßãÂåñÊó∂Á´ãÂç≥Á¶ÅÊ≠¢Ëá™Âä®Ê∏≤Êüì
      // ËøôÊ†∑ Mermaid Â∞±‰∏ç‰ºöÂú®È°µÈù¢Âà∑Êñ∞„ÄÅDOM ÊèíÂÖ•Êó∂Êä¢Âú®‰Ω†ÁöÑÊâãÂä®‰ª£Á†Å‰πãÂâçËøêË°å
      mermaid.initialize({
        startOnLoad: false,
        theme: "default",
        securityLevel: "loose",
      });
    </script>
  </head>
  <body>
    <div class="page-wrapper">
      <!-- PERSISTENT HEADER -->
      <header class="header">
        <div class="header-content">
          <div class="header-title-group">
            <div class="logo">
              <img src="img/logo.png" alt="AI Logo" />
            </div>
            <h1>AI ‰∏™‰∫∫Á¨îËÆ∞</h1>
          </div>
          <p class="header-subtitle">
            ËÆ∞ÂΩï AI ÂçèÂä©Ëß£ÂÜ≥ÁöÑÂêÑÁßçÊäÄÊúØÈóÆÈ¢òÂíåÂ≠¶‰π†Á¨îËÆ∞
          </p>

          <div class="header-description">
            ËøôÈáåÊ±áÈõÜ‰∫ÜÂú®Êó•Â∏∏ÂºÄÂèëÂíåÂ≠¶‰π†ËøáÁ®ã‰∏≠ÔºåÈÄöËøá AI
            ÂçèÂä©Ëß£ÂÜ≥ÁöÑÊäÄÊúØÈöæÈ¢ò„ÄÅÊúÄ‰Ω≥ÂÆûË∑µÊÄªÁªì„ÄÅ‰ª•ÂèäÊ∑±Â∫¶ÁöÑÊäÄÊúØÂéüÁêÜÂàÜÊûê„ÄÇ Ê∂µÁõñ
            Java„ÄÅSpring„ÄÅÂâçÁ´ØÊäÄÊúØ„ÄÅÁ≥ªÁªüÊû∂ÊûÑÁ≠âÂ§ö‰∏™È¢ÜÂüüÁöÑÁü•ËØÜÊ≤âÊ∑Ä„ÄÇ
          </div>

          <div class="topic-areas">
            <div class="topic-item">
              <svg
                class="topic-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M12 2L2 7l10 5 10-5-10-5z" />
                <path d="M2 17l10 5 10-5" />
                <path d="M2 12l10 5 10-5" />
              </svg>
              <span class="topic-name">Java Ê∑±Â∫¶Ëß£Êûê</span>
            </div>
            <div class="topic-item">
              <svg
                class="topic-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
              </svg>
              <span class="topic-name">Spring ÂÖ®ÂÆ∂Ê°∂</span>
            </div>
            <div class="topic-item">
              <svg
                class="topic-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                />
              </svg>
              <span class="topic-name">ÂâçÁ´ØÊäÄÊúØ</span>
            </div>
            <div class="topic-item">
              <svg
                class="topic-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2" />
                <line x1="8" y1="21" x2="16" y2="21" />
                <line x1="12" y1="17" x2="12" y2="21" />
              </svg>
              <span class="topic-name">Á≥ªÁªüÊû∂ÊûÑ</span>
            </div>
            <div class="topic-item">
              <svg
                class="topic-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="3" />
                <path
                  d="M12 1v6m0 6v6m4.22-13.22l4.24 4.24M1.54 8.96l4.24 4.24M20.46 15.04l-4.24-4.24M7.78 7.78L3.54 3.54"
                />
              </svg>
              <span class="topic-name">ÂºÄÂèëÂ∑•ÂÖ∑</span>
            </div>
          </div>

          <p class="header-tagline">"ËÆ©ÊØè‰∏™ÊäÄÊúØÈöæÈ¢òÈÉΩÊàê‰∏∫ÊàêÈïøÁöÑÈò∂Ê¢Ø"</p>

          <div class="header-actions">
            <a href="index.html" class="tools-button" id="home-button">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                <polyline points="9 22 9 12 15 12 15 22" />
              </svg>
              È¶ñÈ°µ
            </a>
            <a href="tools.html" class="tools-button">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
                />
              </svg>
              Â∑•ÂÖ∑
            </a>
            <a href="overview.html" class="tools-button">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                <path
                  d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
                />
              </svg>
              ÂΩíÊ°£
            </a>
          </div>
        </div>
      </header>

      <!-- DYNAMIC CONTENT AREA -->
      <div class="content" id="content">
        <!-- Content will be loaded here dynamically -->
      </div>

      <!-- FOOTER -->
      <footer class="footer">
        <p>AI ‰∏™‰∫∫Á¨îËÆ∞ &copy; 2025 | ÊâÄÊúâÂÜÖÂÆπÂùáÁî± AI ÂçèÂä©ÁîüÊàê</p>
      </footer>
    </div>

    <!-- THEME TOGGLE BUTTON -->
    <button class="theme-toggle" id="themeToggle" title="ÂàáÊç¢ÊöóËâ≤Ê®°Âºè">
      <svg
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="12" cy="12" r="5"></circle>
        <line x1="12" y1="1" x2="12" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="23"></line>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
        <line x1="1" y1="12" x2="3" y2="12"></line>
        <line x1="21" y1="12" x2="23" y2="12"></line>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
      </svg>
    </button>

    <!-- GITHUB BUTTON -->
    <a
      href="https://github.com/ayuayue/ai-note"
      target="_blank"
      class="github-button"
      title="Êü•Áúã GitHub È°πÁõÆ"
    >
      <svg
        viewBox="0 0 24 24"
        fill="currentColor"
        stroke="none"
        stroke-width="0"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
        />
      </svg>
    </a>

    <a href="#" class="back-to-top" id="backToTop">‚Üë</a>

    <script>
      // ==================== DARK MODE TOGGLE ====================
      const themeToggle = document.getElementById("themeToggle");
      const html = document.documentElement;

      // Load saved theme preference
      const savedTheme = localStorage.getItem("theme-mode");
      if (savedTheme === "dark") {
        html.classList.add("dark-mode");
      }

      // Theme toggle click handler
      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark-mode");
        const isDarkMode = html.classList.contains("dark-mode");
        localStorage.setItem("theme-mode", isDarkMode ? "dark" : "light");
        console.log("‰∏ªÈ¢òÂàáÊç¢‰∏∫:", isDarkMode ? "ÊöóËâ≤Ê®°Âºè" : "‰∫ÆËâ≤Ê®°Âºè");

        // Re-render Mermaid diagrams with new theme
        if (typeof mermaid !== "undefined") {
          const mermaidElements = contentArea.querySelectorAll(
            "div.mermaid[data-mermaid-code]"
          );
          if (mermaidElements.length > 0) {
            console.log(
              "ÈáçÊñ∞Ê∏≤Êüì",
              mermaidElements.length,
              "‰∏™MermaidÂõæË°®‰ª•ÈÄÇÂ∫îÊñ∞‰∏ªÈ¢ò"
            );
            mermaidElements.forEach((element, index) => {
              const graphDefinition = element.getAttribute("data-mermaid-code");
              element.removeAttribute("data-processed");
              element.textContent = graphDefinition;
              // Remove any existing SVG
              const svg = element.querySelector("svg");
              if (svg) svg.remove();
            });

            mermaid.initialize({
              startOnLoad: false,
              theme: isDarkMode ? "dark" : "default",
            });
            mermaid.run({
              querySelector: ".mermaid",
            });
          }
        }
      });

      // ==================== SPA ROUTING ====================
      const contentArea = document.getElementById("content");

      // Load initial content (homepage)
      async function loadHomepage(pageNum = 1) {
        try {
          showLoading();
          const feedUrl =
            pageNum === 1 ? "pages/index.html" : `pages/index${pageNum}.html`;
          const response = await fetch(feedUrl);
          if (response.ok) {
            const html = await response.text();
            contentArea.innerHTML = html;
            contentArea.classList.add("fade-in");
            attachEventListeners();
            setupBackToTop();
            window.scrollTo({ top: 0, behavior: "smooth" });
          } else {
            contentArea.innerHTML = "<p>Êó†Ê≥ïÂä†ËΩΩÂÜÖÂÆπ</p>";
          }
        } catch (error) {
          console.error("Error loading homepage:", error);
          contentArea.innerHTML = "<p>Âä†ËΩΩÂÜÖÂÆπÊó∂Âá∫ÈîôÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï</p>";
        }
      }

      // Generate TOC for article content
      function generateTOCForArticle() {
        const postContent = contentArea.querySelector("#post-content");
        const tocNav = contentArea.querySelector("#toc-nav");
        const tocSidebar = contentArea.querySelector("#toc-sidebar");

        if (!postContent || !tocNav) {
          console.log("Post content or TOC nav not found");
          return;
        }

        // Find all headings
        const headings = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
        console.log("Found headings for TOC:", headings.length);

        if (headings.length === 0) {
          if (tocSidebar) tocSidebar.style.display = "none";
          return;
        }

        // Clear TOC nav
        tocNav.innerHTML = "";

        // Create TOC list
        const tocList = document.createElement("ul");
        tocList.className = "toc-list";

        let currentLevel = 1;
        let currentList = tocList;
        let listStack = [tocList];

        headings.forEach((heading, index) => {
          const normalizedId = "heading-" + index;
          heading.id = normalizedId;

          const level = parseInt(heading.tagName.charAt(1));
          const title = heading.textContent.trim();

          const tocItem = document.createElement("li");
          tocItem.className = "toc-item toc-level-" + level;

          const tocLink = document.createElement("a");
          tocLink.href = "javascript:void(0)";
          tocLink.setAttribute("data-target", heading.id);
          tocLink.textContent = title;
          tocLink.className = "toc-link";

          tocItem.appendChild(tocLink);

          // Handle hierarchy
          if (level > currentLevel) {
            const newList = document.createElement("ul");
            newList.className = "toc-sublist";
            const parentList = listStack[listStack.length - 1];
            if (parentList.lastElementChild) {
              parentList.lastElementChild.appendChild(newList);
            } else {
              parentList.appendChild(newList);
            }
            listStack.push(newList);
            currentList = newList;
          } else if (level < currentLevel) {
            while (listStack.length > level) {
              listStack.pop();
            }
            currentList = listStack[listStack.length - 1];
          }

          currentList.appendChild(tocItem);
          currentLevel = level;
        });

        tocNav.appendChild(tocList);
        console.log("TOC generated successfully");

        // Add click handlers
        setTimeout(() => {
          const tocLinks = tocNav.querySelectorAll(".toc-link");
          tocLinks.forEach((link) => {
            link.addEventListener("click", (e) => {
              e.preventDefault();
              const targetId = link.getAttribute("data-target");
              if (targetId) {
                const targetElement = contentArea.querySelector("#" + targetId);
                if (targetElement) {
                  targetElement.scrollIntoView({
                    behavior: "smooth",
                    block: "start",
                    inline: "nearest",
                  });
                }
              }
            });
          });
        }, 100);
      }

      // Load article by path
      async function loadArticle(path) {
        try {
          showLoading();
          const response = await fetch(path);
          if (response.ok) {
            const html = await response.text();
            // Ê†áËÆ∞ÂΩìÂâç‰∏∫SPAÊ®°Âºè
            window.IN_SPA_MODE = true;

            contentArea.innerHTML = html;
            contentArea.classList.add("fade-in");
            attachEventListeners();
            setupBackToTop();

            // Generate TOC after content is loaded
            setTimeout(generateTOCForArticle, 200);

            // Initialize copy buttons after content is loaded
            setTimeout(addCopyButtonsToContentArea, 100);

            // Initialize Mermaid diagrams if present
            setTimeout(async () => {
              if (typeof mermaid !== "undefined") {
                // 1. Êü•ÊâæÈ°µÈù¢‰∏≠ÊâÄÊúâÁöÑ mermaid ‰ª£Á†ÅÂùó
                const mermaidPreElements = contentArea.querySelectorAll(
                  "pre.mermaid, div.mermaid"
                );

                if (mermaidPreElements.length > 0) {
                  console.log(
                    "ÊâæÂà∞",
                    mermaidPreElements.length,
                    "‰∏™ Mermaid ÂõæË°®ÔºåÂáÜÂ§áÊ∏≤Êüì..."
                  );

                  // 2. ÈáçÊñ∞ÂàùÂßãÂåñÈÖçÁΩÆÔºà‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÈÄÇÈÖçÂΩìÂâçÁöÑ‰∏ªÈ¢òÊ®°ÂºèÔºâ
                  const isDarkMode =
                    document.documentElement.classList.contains("dark-mode");
                  mermaid.initialize({
                    startOnLoad: false,
                    theme: isDarkMode ? "dark" : "default",
                    securityLevel: "loose",
                  });

                  // 3. Â§ÑÁêÜ DOM ÁªìÊûÑ
                  const elementsToRun = [];

                  mermaidPreElements.forEach((element) => {
                    // Ëé∑ÂèñÂéüÂßãÂõæË°®‰ª£Á†Å
                    const graphDefinition = element.textContent.trim();

                    // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ div Êù•ÊõøÊç¢ÊóßÁöÑ pre/divÔºåÁ°Æ‰øùÂÆÉÊòØ"Âπ≤ÂáÄ"ÁöÑ
                    const newDiv = document.createElement("div");
                    newDiv.className = "mermaid";
                    newDiv.textContent = graphDefinition;
                    newDiv.setAttribute("data-mermaid-code", graphDefinition);

                    element.parentNode.replaceChild(newDiv, element);
                    elementsToRun.push(newDiv);
                  });

                  // 4. ÊâãÂä®Ëß¶ÂèëÊ∏≤Êüì
                  try {
                    await mermaid.run({
                      nodes: elementsToRun,
                    });
                    console.log("Mermaid Ê∏≤ÊüìÂÆåÊàê");
                  } catch (err) {
                    console.error("Mermaid Ê∏≤ÊüìÂ§±Ë¥•:", err);
                    // Âá∫ÈîôÊó∂ÊòæÁ§∫ÂéüÂßã‰ª£Á†ÅÔºåÈÅøÂÖçÁôΩÂ±è
                    elementsToRun.forEach((el) => {
                      el.style.whiteSpace = "pre";
                      el.style.border = "1px solid red";
                    });
                  }
                }
              }
            }, 150);
            window.scrollTo({ top: 0, behavior: "smooth" });
          } else {
            contentArea.innerHTML = "<p>Êó†Ê≥ïÂä†ËΩΩÊñáÁ´†</p>";
          }
        } catch (error) {
          console.error("Error loading article:", error);
          contentArea.innerHTML = "<p>Âä†ËΩΩÊñáÁ´†Êó∂Âá∫ÈîôÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï</p>";
        }
      }

      // Show loading spinner
      function showLoading() {
        contentArea.innerHTML = `
                <div class="content-loading">
                    <div class="spinner"></div>
                    <p>Âä†ËΩΩ‰∏≠...</p>
                </div>
            `;
      }

      // Attach event listeners to feed items
      function attachEventListeners() {
        // Article links in feed (title and read more links)
        const articleLinks = contentArea.querySelectorAll(
          ".feed-item-title a, .read-more"
        );
        articleLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            let href = link.getAttribute("href");
            // Normalize the path for fetch (remove leading slash)
            let fetchPath = href;
            if (fetchPath.startsWith("/")) {
              fetchPath = fetchPath.substring(1);
            }
            loadArticle(fetchPath);
            // Store the original href for history (normalize path for URL)
            let urlPath = href;
            if (urlPath.startsWith("/")) {
              urlPath = urlPath.substring(1);
            }
            window.history.pushState(
              { page: "article", url: fetchPath },
              "",
              "#/" + urlPath
            );
          });
        });

        // Pagination links
        const paginationLinks = contentArea.querySelectorAll(".pagination a");
        paginationLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const href = link.getAttribute("href");
            if (href && href !== "#") {
              // Check if this is a feed page (pages/index{N}.html) or article
              if (href.startsWith("pages/index")) {
                // Load feed page
                let pageNum = 1;
                if (href.includes("index")) {
                  const match = href.match(/index(\d+)\.html/);
                  if (match) pageNum = parseInt(match[1]);
                }
                loadHomepage(pageNum);
                window.history.pushState({ page: "feed", pageNum }, "", "#");
              } else {
                // Load article
                loadArticle(href);
                window.history.pushState(
                  { page: "article", url: href },
                  "",
                  "#/" + href
                );
              }
            }
          });
        });
      }
      // Add copy buttons to code blocks in SPA content area
      function addCopyButtonsToContentArea() {
        // Handle Pandoc generated code blocks
        const sourceCodeBlocks = contentArea.querySelectorAll(".sourceCode");
        let createdCount = 0;

        sourceCodeBlocks.forEach(function (block) {
          // Check if button already exists
          if (block.querySelector(".copy-button")) return;

          const preElement = block.querySelector("pre");
          if (!preElement) return;

          // Á°Æ‰øùpreÂÖÉÁ¥†ÊúârelativeÂÆö‰ΩçÔºà‰øÆÂ§çÁªùÂØπÂÆö‰ΩçÂèÇÁÖßÈóÆÈ¢òÔºâ
          preElement.style.position = "relative";
          preElement.style.overflow = "visible";

          // Ê£ÄÊü•Âπ∂‰øÆÂ§çsourceCode divÁöÑÂÆö‰Ωç
          if (window.getComputedStyle(block).position === "static") {
            block.style.position = "relative";
          }

          const button = document.createElement("button");
          button.className = "copy-button";
          button.textContent = "Â§çÂà∂";
          button.setAttribute("aria-label", "Â§çÂà∂‰ª£Á†Å");

          button.addEventListener("click", function () {
            const code = preElement.querySelector("code");
            const text = code ? code.innerText : preElement.innerText;

            navigator.clipboard
              .writeText(text)
              .then(function () {
                button.textContent = "Â∑≤Â§çÂà∂";
                button.classList.add("copied");

                setTimeout(function () {
                  button.textContent = "Â§çÂà∂";
                  button.classList.remove("copied");
                }, 3000);
              })
              .catch(function (err) {
                button.textContent = "Â§±Ë¥•";
                setTimeout(function () {
                  button.textContent = "Â§çÂà∂";
                }, 3000);
              });
          });

          block.appendChild(button);
          createdCount++;
        });

        // Handle regular pre code blocks (non-Pandoc generated)
        const allPreBlocks = contentArea.querySelectorAll("pre:not(.mermaid)");
        allPreBlocks.forEach(function (block) {
          // Skip if already in a sourceCode div or has copy button
          if (
            block.closest(".sourceCode") ||
            block.querySelector(".copy-button")
          )
            return;

          // Á°Æ‰øùpreÂÖÉÁ¥†ÊúârelativeÂÆö‰Ωç
          if (window.getComputedStyle(block).position === "static") {
            block.style.position = "relative";
          }
          const button = document.createElement("button");
          button.className = "copy-button";
          button.textContent = "Â§çÂà∂";
          button.setAttribute("aria-label", "Â§çÂà∂‰ª£Á†Å");

          button.addEventListener("click", function () {
            const code = block.querySelector("code");
            const text = code ? code.innerText : block.innerText;

            navigator.clipboard
              .writeText(text)
              .then(function () {
                button.textContent = "Â∑≤Â§çÂà∂";
                button.classList.add("copied");

                setTimeout(function () {
                  button.textContent = "Â§çÂà∂";
                  button.classList.remove("copied");
                }, 3000);
              })
              .catch(function (err) {
                button.textContent = "Â§±Ë¥•";
                setTimeout(function () {
                  button.textContent = "Â§çÂà∂";
                }, 3000);
              });
          });

          block.appendChild(button);
          createdCount++;
        });
      }

      // Back to top button
      const backToTopButton = document.getElementById("backToTop");

      function setupBackToTop() {
        window.addEventListener("scroll", () => {
          if (window.pageYOffset > 300) {
            backToTopButton.classList.add("visible");
          } else {
            backToTopButton.classList.remove("visible");
          }
        });
      }

      backToTopButton.addEventListener("click", (e) => {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      // ==================== BROWSER HISTORY ====================
      window.addEventListener("popstate", (event) => {
        if (event.state) {
          if (event.state.page === "article" && event.state.url) {
            loadArticle(event.state.url);
          } else if (event.state.page === "feed" && event.state.pageNum) {
            loadHomepage(event.state.pageNum);
          } else {
            loadHomepage();
          }
        } else {
          loadHomepage();
        }
      });

      // ==================== INITIALIZE ====================
      document.addEventListener("DOMContentLoaded", () => {
        // Check if there's a hash route on page load
        const hash = window.location.hash;
        if (hash.startsWith("#/docs/")) {
          // Extract the article path from hash
          const articlePath = hash.substring(2); // Remove '#/'
          loadArticle(articlePath);
        } else {
          // Load homepage
          loadHomepage();
        }
        console.log("SPA È°µÈù¢Âä†ËΩΩÂÆåÊàêÔºåÊâÄÊúâÂäüËÉΩÂ∑≤Â∞±Áª™");
      });
    </script>
  </body>
</html>
