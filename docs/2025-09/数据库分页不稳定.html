<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³

åœ¨æ•°æ®åº“åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œçœç•¥ ORDER BY
ä¼šå¯¼è‡´ç»“æœé¡ºåºä¸å¯é¢„æµ‹ï¼Œè¿›è€Œå¼•å‘åˆ†é¡µâ€œè·³é¡µâ€ã€â€œæ•°æ®é‡å¤â€æˆ–â€œé—æ¼â€ï¼Œä¸¥é‡ç ´åç”¨æˆ·ä½“éªŒä¸æ•°æ®ä¸€è‡´æ€§ã€‚æœ¬æ–‡æ·±å…¥å‰–æå…¶åº•å±‚åŸç†ã€å¸¸è§è¯¯åŒºã€è§£å†³æ–¹æ¡ˆåŠå®æˆ˜ä¼˜åŒ–ï¼Œé€‚åˆåç«¯å¼€å‘ã€DBA
ä¸ç³»ç»Ÿæ¶æ„å¸ˆé˜…è¯»ã€‚...">
    <meta name="keywords" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®š, ä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯, å®šæ—¶ç‚¸å¼¹, ä»¥åŠå¦‚ä½•å½»åº•è§£å†³">
    <meta name="author" content="AI ä¸ªäººç¬”è®°">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³">
    <meta property="og:description" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³

åœ¨æ•°æ®åº“åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œçœç•¥ ORDER BY
ä¼šå¯¼è‡´ç»“æœé¡ºåºä¸å¯é¢„æµ‹ï¼Œè¿›è€Œå¼•å‘åˆ†é¡µâ€œè·³é¡µâ€ã€â€œæ•°æ®é‡å¤â€æˆ–â€œé—æ¼â€ï¼Œä¸¥é‡ç ´åç”¨æˆ·ä½“éªŒä¸æ•°æ®ä¸€è‡´æ€§ã€‚æœ¬æ–‡æ·±å…¥å‰–æå…¶åº•å±‚åŸç†ã€å¸¸è§è¯¯åŒºã€è§£å†³æ–¹æ¡ˆåŠå®æˆ˜ä¼˜åŒ–ï¼Œé€‚åˆåç«¯å¼€å‘ã€DBA
ä¸ç³»ç»Ÿæ¶æ„å¸ˆé˜…è¯»ã€‚...">
    <meta property="og:image" content="https://your-domain.com/images/og-image.png">
    <meta property="og:url" content="https://your-domain.com/docs/2025-09/æ•°æ®åº“åˆ†é¡µä¸ç¨³å®š.html">
    <meta property="og:site_name" content="AI ä¸ªäººç¬”è®°">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³">
    <meta property="twitter:description" content="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³

åœ¨æ•°æ®åº“åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œçœç•¥ ORDER BY
ä¼šå¯¼è‡´ç»“æœé¡ºåºä¸å¯é¢„æµ‹ï¼Œè¿›è€Œå¼•å‘åˆ†é¡µâ€œè·³é¡µâ€ã€â€œæ•°æ®é‡å¤â€æˆ–â€œé—æ¼â€ï¼Œä¸¥é‡ç ´åç”¨æˆ·ä½“éªŒä¸æ•°æ®ä¸€è‡´æ€§ã€‚æœ¬æ–‡æ·±å…¥å‰–æå…¶åº•å±‚åŸç†ã€å¸¸è§è¯¯åŒºã€è§£å†³æ–¹æ¡ˆåŠå®æˆ˜ä¼˜åŒ–ï¼Œé€‚åˆåç«¯å¼€å‘ã€DBA
ä¸ç³»ç»Ÿæ¶æ„å¸ˆé˜…è¯»ã€‚...">
    <meta property="twitter:image" content="https://your-domain.com/images/og-image.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://your-domain.com/docs/2025-09/æ•°æ®åº“åˆ†é¡µä¸ç¨³å®š.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <style>
        /* Google Fonts for better typography */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap');

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --bg-color: #f8f9fa;
            --text-color: #34495e;
            --border-color: #e9ecef;
            --card-bg: #ffffff;
            --hover-color: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            min-height: 100vh;
            padding: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 30px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border-color);
        }

        .back-home {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 500;
            transition: background 0.3s;
        }

        .back-home:hover {
            background: #2980b9;
        }

        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #24292e;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 500;
            transition: background 0.3s;
        }

        .github-link:hover {
            background: #000;
        }

        .main-content {
            flex: 1;
            min-width: 0;
        }
        
        .post {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .post-header {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .post-title {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .post-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #6c757d;
            font-size: 0.95rem;
        }

        .post-date {
            background-color: #e3f2fd;
            color: var(--secondary-color);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
        }

        .post-category {
            background-color: #e8f5e9;
            color: #4caf50;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
        }

        .post-content {
            font-size: 1.05rem;
            line-height: 1.7;
        }

        .post-content h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin: 35px 0 25px 0;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        
        /* Table of Contents */
        .toc-container {
            width: 300px;
            flex-shrink: 0;
        }
        
        .toc {
            position: sticky;
            top: 135px;
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }
        
        .toc h2 {
            color: var(--primary-color);
            font-size: 1.4rem;
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        
        .toc ul ul {
            padding-left: 20px;
        }
        
        .toc li {
            margin-bottom: 8px;
        }
        
        .toc a {
            text-decoration: none;
            color: var(--text-color);
            font-size: 0.95rem;
            transition: color 0.2s;
        }
        
        .toc a:hover {
            color: var(--secondary-color);
        }
        
        .toc a.active {
            color: var(--secondary-color);
            font-weight: 500;
        }

        .post-content h2 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .post-content h3 {
            color: #2980b9;
            font-size: 1.3rem;
            margin: 25px 0 15px 0;
        }

        .post-content p {
            margin-bottom: 18px;
        }

        .post-content ul, .post-content ol {
            margin: 20px 0;
            padding-left: 35px;
        }

        .post-content li {
            margin-bottom: 10px;
        }

        .post-content code {
            background-color: #e8eaed;
            padding: 3px 7px;
            border-radius: 4px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            color: #c0392b;
            font-size: 0.9em;
        }

        .post-content pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 25px 0;
            font-size: 0.9em;
            line-height: 1.5;
            position: relative;
            overflow: visible;
        }
        
        /* Copy button styles */
        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #444;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 0.8em;
            cursor: pointer;
            opacity: 0.8;
            transition: all 0.2s ease;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* ä¸º Pandoc ç”Ÿæˆçš„ä»£ç å—å®¹å™¨æ·»åŠ å®šä½ä¸Šä¸‹æ–‡ */
        .sourceCode {
            position: relative;
        }
        
        .copy-button:hover {
            background-color: #555;
            opacity: 1;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .copy-button.copied {
            background-color: #27ae60;
        }

        .post-content pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }

        .post-content blockquote {
            background-color: #eaf2f8;
            border-left: 5px solid var(--secondary-color);
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 5px 5px 0;
        }

        .post-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .post-content th, .post-content td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid #e1e1e1;
        }

        .post-content th {
            background-color: #3498db;
            color: #ffffff;
            font-weight: 500;
            text-align: center;
        }

        .post-content tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .post-content tbody tr:hover {
            background-color: #e9ecef;
        }

        .post-content a {
            color: var(--secondary-color);
            text-decoration: none;
        }

        .post-content a:hover {
            text-decoration: underline;
        }

        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 25px 0;
            text-align: center;
            font-size: 0.9rem;
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            color: #6c757d;
            font-size: 0.9rem;
            margin-top: 40px;
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--secondary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .back-to-top.visible {
            opacity: 1;
        }

        /* Mermaid å›¾è¡¨æ ·å¼ */
        .mermaid {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .post {
                padding: 20px;
            }
            
            .post-title {
                font-size: 1.6rem;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .post-content {
                font-size: 1rem;
            }
            
            .post-content h1 {
                font-size: 1.5rem;
            }
            
            .post-content h2 {
                font-size: 1.3rem;
            }
            
            .post-content h3 {
                font-size: 1.1rem;
            }
            
            .toc-container {
                display: none;
            }
        }
    </style>
    <!-- å¼•å…¥æœ¬åœ° Mermaid åº“ -->
    <script src="../../js/mermaid.min.js"></script>
    <script>
        // åˆå§‹åŒ– Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            // å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤šé…ç½®é€‰é¡¹
            securityLevel: 'loose'
        });
        
        // å¤„ç† Pandoc ç”Ÿæˆçš„ Mermaid ä»£ç å—
        // Pandoc å°† Mermaid ä»£ç å—è½¬æ¢ä¸º <pre class="mermaid"><code>... æ ¼å¼
        // æˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢ä¸º <div class="mermaid">... æ ¼å¼ä»¥ä¾¿ Mermaid æ¸²æŸ“
        document.addEventListener('DOMContentLoaded', function() {
            const mermaidBlocks = document.querySelectorAll('pre.mermaid code');
            mermaidBlocks.forEach(function(codeElement) {
                // åˆ›å»ºæ–°çš„ div å…ƒç´ 
                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                // å°†ä»£ç å†…å®¹ç§»åˆ° div ä¸­
                mermaidDiv.textContent = codeElement.textContent;
                // æ›¿æ¢åŸæ¥çš„ pre å…ƒç´ 
                codeElement.parentNode.parentNode.replaceChild(mermaidDiv, codeElement.parentNode);
            });
            
            // é‡æ–°å¯åŠ¨ Mermaid æ¸²æŸ“
            mermaid.init(undefined, document.querySelectorAll('.mermaid'));
        });
        
        // ä¸ºä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®
        function addCopyButtons() {
            // å¤„ç† Pandoc ç”Ÿæˆçš„ä»£ç å—ç»“æ„ (<div class="sourceCode"><pre><code>)
            const sourceCodeBlocks = document.querySelectorAll('.sourceCode');
            sourceCodeBlocks.forEach(function(block) {
                // æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰å¤åˆ¶æŒ‰é’®
                if (block.querySelector('.copy-button')) return;
                
                // è·å– pre å…ƒç´ 
                const preElement = block.querySelector('pre');
                if (!preElement) return;
                
                // åˆ›å»ºå¤åˆ¶æŒ‰é’®
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'å¤åˆ¶';
                button.setAttribute('aria-label', 'å¤åˆ¶ä»£ç ');
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                button.addEventListener('click', function() {
                    // è·å–ä»£ç æ–‡æœ¬
                    const code = preElement.querySelector('code');
                    const text = code ? code.innerText : preElement.innerText;
                    
                    // å¤åˆ¶åˆ°å‰ªè´´æ¿
                    navigator.clipboard.writeText(text).then(function() {
                        // æ›´æ–°æŒ‰é’®çŠ¶æ€
                        button.textContent = 'å·²å¤åˆ¶';
                        button.classList.add('copied');
                        
                        // 3ç§’åæ¢å¤åŸå§‹çŠ¶æ€
                        setTimeout(function() {
                            button.textContent = 'å¤åˆ¶';
                            button.classList.remove('copied');
                        }, 3000);
                    }).catch(function(err) {
                        console.error('å¤åˆ¶å¤±è´¥: ', err);
                        button.textContent = 'å¤±è´¥';
                        setTimeout(function() {
                            button.textContent = 'å¤åˆ¶';
                        }, 3000);
                    });
                });
                
                // å°†æŒ‰é’®æ·»åŠ åˆ° sourceCode div ä¸­
                block.appendChild(button);
            });
            
            // å¤„ç†æ™®é€šçš„ pre ä»£ç å— (é Pandoc ç”Ÿæˆçš„)
            // å…ˆè·å–æ‰€æœ‰é mermaid çš„ pre å…ƒç´ 
            const allPreBlocks = document.querySelectorAll('pre:not(.mermaid)');
            allPreBlocks.forEach(function(block) {
                // æ£€æŸ¥æ˜¯å¦å·²ç»åœ¨ sourceCode div ä¸­ï¼ˆPandoc ç”Ÿæˆçš„ï¼‰æˆ–è€…å·²ç»æœ‰å¤åˆ¶æŒ‰é’®
                if (block.closest('.sourceCode') || block.querySelector('.copy-button')) return;
                
                // åˆ›å»ºå¤åˆ¶æŒ‰é’®
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'å¤åˆ¶';
                button.setAttribute('aria-label', 'å¤åˆ¶ä»£ç ');
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                button.addEventListener('click', function() {
                    // è·å–ä»£ç æ–‡æœ¬
                    const code = block.querySelector('code');
                    const text = code ? code.innerText : block.innerText;
                    
                    // å¤åˆ¶åˆ°å‰ªè´´æ¿
                    navigator.clipboard.writeText(text).then(function() {
                        // æ›´æ–°æŒ‰é’®çŠ¶æ€
                        button.textContent = 'å·²å¤åˆ¶';
                        button.classList.add('copied');
                        
                        // 3ç§’åæ¢å¤åŸå§‹çŠ¶æ€
                        setTimeout(function() {
                            button.textContent = 'å¤åˆ¶';
                            button.classList.remove('copied');
                        }, 3000);
                    }).catch(function(err) {
                        console.error('å¤åˆ¶å¤±è´¥: ', err);
                        button.textContent = 'å¤±è´¥';
                        setTimeout(function() {
                            button.textContent = 'å¤åˆ¶';
                        }, 3000);
                    });
                });
                
                // å°†æŒ‰é’®æ·»åŠ åˆ°ä»£ç å—
                block.appendChild(button);
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <header class="header">
                <a href="../../index.html" class="back-home">
                    â† è¿”å›é¦–é¡µ
                </a>
            </header>
            
            <article class="post">
                <header class="post-header">
                    <h1 class="post-title">æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³</h1>
                    <div class="post-meta">
                        <div class="post-date">2025/9/15</div>
                        <div class="post-category">2025-09</div>
                    </div>
                </header>
                <div class="warning">
                    âš ï¸ æ³¨æ„ï¼šæ­¤å†…å®¹ç”± AI ååŠ©ç”Ÿæˆï¼Œå‡†ç¡®æ€§æœªç»éªŒè¯ï¼Œè¯·è°¨æ…ä½¿ç”¨
                </div>
                <div class="post-content" id="post-content">
                    <h1
id="æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯å®šæ—¶ç‚¸å¼¹ä»¥åŠå¦‚ä½•å½»åº•è§£å†³">æ•°æ®åº“åˆ†é¡µä¸ç¨³å®šï¼šä¸ºä»€ä¹ˆæ— æ’åºçš„åˆ†é¡µæ˜¯â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥åŠå¦‚ä½•å½»åº•è§£å†³</h1>
<blockquote>
<p>åœ¨æ•°æ®åº“åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œçœç•¥ <code>ORDER BY</code>
ä¼šå¯¼è‡´ç»“æœé¡ºåºä¸å¯é¢„æµ‹ï¼Œè¿›è€Œå¼•å‘åˆ†é¡µâ€œè·³é¡µâ€ã€â€œæ•°æ®é‡å¤â€æˆ–â€œé—æ¼â€ï¼Œä¸¥é‡ç ´åç”¨æˆ·ä½“éªŒä¸æ•°æ®ä¸€è‡´æ€§ã€‚æœ¬æ–‡æ·±å…¥å‰–æå…¶åº•å±‚åŸç†ã€å¸¸è§è¯¯åŒºã€è§£å†³æ–¹æ¡ˆåŠå®æˆ˜ä¼˜åŒ–ï¼Œé€‚åˆåç«¯å¼€å‘ã€DBA
ä¸ç³»ç»Ÿæ¶æ„å¸ˆé˜…è¯»ã€‚</p>
</blockquote>
<hr />
<h2 id="ç›®å½•">ç›®å½•</h2>
<ul>
<li><a href="#1-æ ¸å¿ƒæ¦‚å¿µä»€ä¹ˆæ˜¯åˆ†é¡µä¸ç¨³å®š">1.
æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯â€œåˆ†é¡µä¸ç¨³å®šâ€</a></li>
<li><a href="#2-ä¸ºä»€ä¹ˆæ— æ’åºä¼šå¯¼è‡´åˆ†é¡µä¸ç¨³å®š">2.
ä¸ºä»€ä¹ˆæ— æ’åºä¼šå¯¼è‡´åˆ†é¡µä¸ç¨³å®š</a></li>
<li><a href="#3-ç¤ºä¾‹ä»£ç å¤ç°ä¸ä¿®å¤">3. ç¤ºä¾‹ä»£ç ï¼šå¤ç°ä¸ä¿®å¤</a></li>
<li><a href="#4-mermaid-å›¾è§£æŸ¥è¯¢æ‰§è¡Œä¸æ’åºç¼ºå¤±çš„å½±å“">4. Mermaid
å›¾è§£ï¼šæŸ¥è¯¢æ‰§è¡Œä¸æ’åºç¼ºå¤±çš„å½±å“</a></li>
<li><a href="#5-å¸¸è§è¯¯åŒºä¸è¾¹ç•Œæƒ…å†µ">5. å¸¸è§è¯¯åŒºä¸è¾¹ç•Œæƒ…å†µ</a></li>
<li><a href="#6-åº”ç”¨åœºæ™¯ä»ç®¡ç†åå°åˆ°é«˜å¹¶å‘-api">6.
åº”ç”¨åœºæ™¯ï¼šä»ç®¡ç†åå°åˆ°é«˜å¹¶å‘ API</a></li>
<li><a href="#7-è·¨è¯­è¨€æ¡†æ¶å¯¹æ¯”">7. è·¨è¯­è¨€/æ¡†æ¶å¯¹æ¯”</a></li>
<li><a href="#8-å®æˆ˜æ¡ˆä¾‹spring-boot--mybatis-åˆ†é¡µé™·é˜±ä¸ä¿®å¤">8.
å®æˆ˜æ¡ˆä¾‹ï¼šSpring Boot + MyBatis åˆ†é¡µé™·é˜±ä¸ä¿®å¤</a></li>
<li><a href="#9-æ€»ç»“">9. æ€»ç»“</a></li>
<li><a href="#10-å»¶ä¼¸é˜…è¯»">10. å»¶ä¼¸é˜…è¯»</a></li>
<li><a href="#11-ä¸€å¥è¯è®°å¿†">11. ä¸€å¥è¯è®°å¿†</a></li>
</ul>
<hr />
<h2 id="æ ¸å¿ƒæ¦‚å¿µä»€ä¹ˆæ˜¯åˆ†é¡µä¸ç¨³å®š">1. æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯â€œåˆ†é¡µä¸ç¨³å®šâ€</h2>
<h3 id="æ¦‚å¿µè§£é‡Š">æ¦‚å¿µè§£é‡Š</h3>
<p><strong>åˆ†é¡µä¸ç¨³å®šï¼ˆPagination Instabilityï¼‰</strong>
æ˜¯æŒ‡åœ¨æ•°æ®åº“åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œç”±äºæœªæŒ‡å®šæ˜ç¡®æ’åºè§„åˆ™ï¼ˆ<code>ORDER BY</code>ï¼‰ï¼Œå¯¼è‡´å¤šæ¬¡æ‰§è¡Œç›¸åŒåˆ†é¡µè¯­å¥æ—¶ï¼Œè¿”å›çš„æ•°æ®é¡ºåºä¸ä¸€è‡´ï¼Œä»è€Œé€ æˆâ€œåŒä¸€é¡µé¢å†…å®¹å˜åŒ–â€ã€â€œè®°å½•é‡å¤å‡ºç°â€æˆ–â€œæŸäº›è®°å½•å§‹ç»ˆæ— æ³•è¢«è®¿é—®â€çš„ç°è±¡ã€‚</p>
<p>è¿™å¹¶éæ•°æ®åº“â€œbugâ€ï¼Œè€Œæ˜¯<strong>SQL
æ ‡å‡†ä¸æ•°æ®åº“å¼•æ“è®¾è®¡çš„å¿…ç„¶ç»“æœ</strong>ã€‚æ ¹æ® ANSI SQL æ ‡å‡†ï¼Œè‹¥æœªæŒ‡å®š
<code>ORDER BY</code>ï¼Œæ•°æ®åº“æœ‰æƒä»¥ä»»æ„é¡ºåºè¿”å›ç»“æœã€‚ä¸åŒæ•°æ®åº“ï¼ˆMySQLã€PostgreSQLã€Oracleã€SQL
Serverï¼‰åœ¨ä¸åŒç‰ˆæœ¬ã€ä¸åŒæ‰§è¡Œè®¡åˆ’ã€ä¸åŒç‰©ç†å­˜å‚¨ç»“æ„ä¸‹ï¼Œéƒ½å¯èƒ½è¿”å›ä¸åŒé¡ºåºã€‚</p>
<p>å†å²ä¸Šï¼Œæ—©æœŸå¼€å‘è€…å¸¸è¯¯ä»¥ä¸ºâ€œè¡¨æ˜¯æŒ‰æ’å…¥é¡ºåºå­˜å‚¨çš„ï¼Œæ‰€ä»¥æŸ¥è¯¢è‡ªç„¶æœ‰åºâ€ï¼Œä½†ç°ä»£æ•°æ®åº“åŸºäº
B+Treeã€å †è¡¨ã€å¹¶è¡Œæ‰«æã€ç´¢å¼•è¦†ç›–ç­‰æœºåˆ¶ï¼Œæ—©å·²æ‰“ç ´è¿™ç§â€œæœ´ç´ è®¤çŸ¥â€ã€‚</p>
<hr />
<h2 id="ä¸ºä»€ä¹ˆæ— æ’åºä¼šå¯¼è‡´åˆ†é¡µä¸ç¨³å®š">2.
ä¸ºä»€ä¹ˆæ— æ’åºä¼šå¯¼è‡´åˆ†é¡µä¸ç¨³å®š</h2>
<h3 id="é—®é¢˜æ ¹æº">é—®é¢˜æ ¹æº</h3>
<p>æ•°æ®åº“å¼•æ“åœ¨æ‰§è¡Œ <code>SELECT ... LIMIT N OFFSET M</code>
æ—¶ï¼Œå¦‚æœæ²¡æœ‰ <code>ORDER BY</code>ï¼Œå…¶è¡Œä¸ºç­‰ä»·äºï¼š</p>
<blockquote>
<p>â€œç»™æˆ‘ä»»æ„ N æ¡æ»¡è¶³æ¡ä»¶çš„è®°å½•ï¼Œä»ç¬¬ M æ¡å¼€å§‹è®¡æ•°ã€‚â€</p>
</blockquote>
<p>ä½†â€œä»»æ„â€æ„å‘³ç€ï¼š</p>
<ul>
<li>æ•°æ®åº“å¯èƒ½ä½¿ç”¨ä¸åŒç´¢å¼•</li>
<li>å¯èƒ½å› ç»Ÿè®¡ä¿¡æ¯å˜åŒ–é€‰æ‹©ä¸åŒæ‰§è¡Œè®¡åˆ’</li>
<li>å¯èƒ½å› å¹¶å‘å†™å…¥å¯¼è‡´æ•°æ®é¡µé‡æ’</li>
<li>å¯èƒ½å›  MVCC å¿«ç…§å¯¼è‡´ä¸åŒäº‹åŠ¡çœ‹åˆ°ä¸åŒé¡ºåº</li>
</ul>
<h3 id="ç¤ºä¾‹åœºæ™¯">ç¤ºä¾‹åœºæ™¯</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- å‡è®¾ users è¡¨æœ‰ 100 æ¡è®°å½•ï¼Œæ— ä¸»é”®çº¦æŸï¼Œæ— ç´¢å¼•</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> users <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">0</span>;  <span class="co">-- ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼šè¿”å› id=1~10</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- æ’å…¥ä¸€æ¡æ–°è®°å½•ï¼Œè§¦å‘é¡µåˆ†è£‚</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> users <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">0</span>;  <span class="co">-- ç¬¬äºŒæ¬¡æ‰§è¡Œï¼šè¿”å› id=5, 2, 8, 1, ... é¡ºåºå…¨ä¹±</span></span></code></pre></div>
<h3 id="è®¾è®¡åŠ¨æœº">è®¾è®¡åŠ¨æœº</h3>
<p>æ•°æ®åº“å¦‚æ­¤è®¾è®¡ï¼Œæ˜¯ä¸ºäº†<strong>æœ€å¤§åŒ–æŸ¥è¯¢æ€§èƒ½ä¸æ‰§è¡Œçµæ´»æ€§</strong>ã€‚å¼ºåˆ¶æ’åºä¼šå¸¦æ¥é¢å¤–å¼€é”€ï¼ˆå†…å­˜æ’åºã€ç£ç›˜ä¸´æ—¶è¡¨ï¼‰ï¼Œåœ¨ä¸éœ€è¦é¡ºåºçš„åœºæ™¯ï¼ˆå¦‚
COUNTã€EXISTSï¼‰ä¸­æ˜¯æµªè´¹ã€‚å› æ­¤ï¼Œé¡ºåºæ§åˆ¶æƒäº¤ç»™å¼€å‘è€…ã€‚</p>
<hr />
<h2 id="ç¤ºä¾‹ä»£ç å¤ç°ä¸ä¿®å¤">3. ç¤ºä¾‹ä»£ç ï¼šå¤ç°ä¸ä¿®å¤</h2>
<h3 id="python-sqlite-ç¤ºä¾‹å¯è¿è¡Œ">Python + SQLite ç¤ºä¾‹ï¼ˆå¯è¿è¡Œï¼‰</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sqlite3</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># åˆå§‹åŒ–æ•°æ®åº“</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>conn <span class="op">=</span> sqlite3.<span class="ex">connect</span>(<span class="st">&quot;:memory:&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>cursor <span class="op">=</span> conn.cursor()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>cursor.execute(<span class="st">&quot;CREATE TABLE users (id INTEGER, name TEXT)&quot;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># æ’å…¥æ— åºæ•°æ®</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [(<span class="dv">3</span>, <span class="st">&quot;Alice&quot;</span>), (<span class="dv">1</span>, <span class="st">&quot;Bob&quot;</span>), (<span class="dv">4</span>, <span class="st">&quot;Carol&quot;</span>), (<span class="dv">2</span>, <span class="st">&quot;Dave&quot;</span>)]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>cursor.executemany(<span class="st">&quot;INSERT INTO users VALUES (?, ?)&quot;</span>, data)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>conn.commit()</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># âŒ é”™è¯¯ï¼šæ— æ’åºåˆ†é¡µ</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;=== æ— æ’åºåˆ†é¡µï¼ˆä¸ç¨³å®šï¼‰===&quot;</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">2</span>):</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    cursor.execute(<span class="st">&quot;SELECT id, name FROM users LIMIT 2 OFFSET ?&quot;</span>, (i,))</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> cursor.fetchall()</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Page </span><span class="sc">{</span>i<span class="op">//</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>rows<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># âœ… æ­£ç¡®ï¼šæœ‰æ’åºåˆ†é¡µ</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">=== æœ‰æ’åºåˆ†é¡µï¼ˆç¨³å®šï¼‰===&quot;</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">2</span>):</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    cursor.execute(<span class="st">&quot;SELECT id, name FROM users ORDER BY id LIMIT 2 OFFSET ?&quot;</span>, (i,))</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> cursor.fetchall()</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Page </span><span class="sc">{</span>i<span class="op">//</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>rows<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>conn.close()</span></code></pre></div>
<p><strong>è¾“å‡ºç¤ºä¾‹ï¼ˆSQLite å¯èƒ½æŒ‰ rowid è¿”å›ï¼Œä½†ä¸ä¿è¯ï¼‰ï¼š</strong></p>
<pre><code>=== æ— æ’åºåˆ†é¡µï¼ˆä¸ç¨³å®šï¼‰===
Page 1: [(3, &#39;Alice&#39;), (1, &#39;Bob&#39;)]
Page 2: [(4, &#39;Carol&#39;), (2, &#39;Dave&#39;)]

=== æœ‰æ’åºåˆ†é¡µï¼ˆç¨³å®šï¼‰===
Page 1: [(1, &#39;Bob&#39;), (2, &#39;Dave&#39;)]
Page 2: [(3, &#39;Alice&#39;), (4, &#39;Carol&#39;)]</code></pre>
<blockquote>
<p>âš ï¸ åœ¨ PostgreSQL æˆ– MySQL ä¸­ï¼Œæ— æ’åºç»“æœæ›´æ˜“å˜åŠ¨ï¼Œå°¤å…¶åœ¨å¹¶å‘å†™å…¥æˆ–
VACUUM åã€‚</p>
</blockquote>
<hr />
<h2 id="mermaid-å›¾è§£æŸ¥è¯¢æ‰§è¡Œä¸æ’åºç¼ºå¤±çš„å½±å“">4. Mermaid
å›¾è§£ï¼šæŸ¥è¯¢æ‰§è¡Œä¸æ’åºç¼ºå¤±çš„å½±å“</h2>
<pre class="mermaid"><code>graph TD
    A[å®¢æˆ·ç«¯è¯·æ±‚åˆ†é¡µ] --&gt; B{æ˜¯å¦å« ORDER BY?}
    B --&gt;|å¦| C[æ•°æ®åº“è‡ªç”±é€‰æ‹©æ‰«æè·¯å¾„]
    C --&gt; D[å¯èƒ½ä½¿ç”¨ç´¢å¼•Aã€ç´¢å¼•Bæˆ–å…¨è¡¨æ‰«æ]
    D --&gt; E[è¿”å›â€œä»»æ„é¡ºåºâ€çš„å‰Næ¡]
    E --&gt; F[åˆ†é¡µç»“æœä¸ç¨³å®š]
    B --&gt;|æ˜¯| G[æ•°æ®åº“å¼ºåˆ¶æŒ‰æŒ‡å®šåˆ—æ’åº]
    G --&gt; H[ä½¿ç”¨æ’åºç´¢å¼•æˆ–å†…å­˜æ’åº]
    H --&gt; I[è¿”å›ç¨³å®šæœ‰åºç»“æœ]
    I --&gt; J[åˆ†é¡µç»“æœå¯é ]
    F --&gt; K[ç”¨æˆ·çœ‹åˆ°æ•°æ®è·³åŠ¨/é‡å¤]
    J --&gt; L[ç”¨æˆ·ä½“éªŒä¸€è‡´]</code></pre>
<hr />
<h2 id="å¸¸è§è¯¯åŒºä¸è¾¹ç•Œæƒ…å†µ">5. å¸¸è§è¯¯åŒºä¸è¾¹ç•Œæƒ…å†µ</h2>
<h3
id="è¯¯åŒºä¸€ä¸»é”®è‡ªå¢æ‰€ä»¥é»˜è®¤æœ‰åº">è¯¯åŒºä¸€ï¼šâ€œä¸»é”®è‡ªå¢ï¼Œæ‰€ä»¥é»˜è®¤æœ‰åºâ€</h3>
<p>âŒ é”™ï¼å³ä½¿æœ‰è‡ªå¢ä¸»é”®ï¼Œè‹¥æœªåœ¨ <code>ORDER BY</code>
ä¸­æ˜¾å¼æŒ‡å®šï¼Œæ•°æ®åº“ä»å¯èƒ½ä¸æŒ‰ä¸»é”®é¡ºåºè¿”å›ï¼ˆå¦‚ä½¿ç”¨å…¶ä»–ç´¢å¼•è¦†ç›–æŸ¥è¯¢ï¼‰ã€‚</p>
<h3
id="è¯¯åŒºäºŒæ•°æ®æ²¡å˜é¡ºåºå°±ä¸ä¼šå˜">è¯¯åŒºäºŒï¼šâ€œæ•°æ®æ²¡å˜ï¼Œé¡ºåºå°±ä¸ä¼šå˜â€</h3>
<p>âŒ
é”™ï¼æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯æ›´æ–°ã€ç¼“å­˜å¤±æ•ˆã€æ‰§è¡Œè®¡åˆ’é‡é€‰éƒ½å¯èƒ½å¯¼è‡´é¡ºåºå˜åŒ–ã€‚</p>
<h3 id="è¾¹ç•Œæƒ…å†µæ’åºå­—æ®µå€¼ç›¸åŒ">è¾¹ç•Œæƒ…å†µï¼šæ’åºå­—æ®µå€¼ç›¸åŒ</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- è‹¥ status ç›¸åŒï¼Œä¸åŒæ•°æ®åº“å¯¹ç›¸åŒå€¼çš„æ’åºä¸ä¸€è‡´</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> orders <span class="kw">ORDER</span> <span class="kw">BY</span> status <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">10</span>;</span></code></pre></div>
<p>âœ…
è§£å†³æ–¹æ¡ˆï¼š<strong>æ·»åŠ è¾…åŠ©æ’åºå­—æ®µï¼ˆå¦‚ä¸»é”®ï¼‰ç¡®ä¿å…¨å±€å”¯ä¸€æ’åº</strong></p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> orders <span class="kw">ORDER</span> <span class="kw">BY</span> status, <span class="kw">id</span> <span class="kw">LIMIT</span> <span class="dv">10</span> OFFSET <span class="dv">10</span>;</span></code></pre></div>
<h3 id="è¯¯åŒºä¸‰åŠ äº†ç´¢å¼•å°±ç­‰äºæ’åº">è¯¯åŒºä¸‰ï¼šâ€œåŠ äº†ç´¢å¼•å°±ç­‰äºæ’åºâ€</h3>
<p>âŒ
é”™ï¼ç´¢å¼•ç”¨äºåŠ é€ŸæŸ¥æ‰¾ï¼Œä½†æŸ¥è¯¢ä¼˜åŒ–å™¨å¯èƒ½é€‰æ‹©ä¸ä½¿ç”¨è¯¥ç´¢å¼•ï¼Œæˆ–ä½¿ç”¨åä»éœ€é¢å¤–æ’åºã€‚</p>
<hr />
<h2 id="åº”ç”¨åœºæ™¯ä»ç®¡ç†åå°åˆ°é«˜å¹¶å‘-api">6. åº”ç”¨åœºæ™¯ï¼šä»ç®¡ç†åå°åˆ°é«˜å¹¶å‘
API</h2>
<h3
id="åœºæ™¯ä¸€åå°ç®¡ç†ç³»ç»Ÿä½é¢‘äººå·¥æ“ä½œ">åœºæ™¯ä¸€ï¼šåå°ç®¡ç†ç³»ç»Ÿï¼ˆä½é¢‘ã€äººå·¥æ“ä½œï¼‰</h3>
<ul>
<li>ç”¨æˆ·æ‰‹åŠ¨ç¿»é¡µæŸ¥çœ‹è®¢å•åˆ—è¡¨</li>
<li>âŒ æ— æ’åº â†’ ç”¨æˆ·ç¿»é¡µæ—¶æ•°æ®â€œä¹±è·³â€ï¼Œè¯¯æ“ä½œé£é™©é«˜</li>
<li>âœ… åŠ  <code>ORDER BY created_at DESC, id DESC</code> â†’
ç¨³å®šå€’åºï¼Œç¬¦åˆé¢„æœŸ</li>
</ul>
<h3
id="åœºæ™¯äºŒç§»åŠ¨ç«¯æ— é™æ»šåŠ¨é«˜é¢‘è‡ªåŠ¨åŒ–">åœºæ™¯äºŒï¼šç§»åŠ¨ç«¯æ— é™æ»šåŠ¨ï¼ˆé«˜é¢‘ã€è‡ªåŠ¨åŒ–ï¼‰</h3>
<ul>
<li>App è‡ªåŠ¨åŠ è½½ä¸‹ä¸€é¡µå†…å®¹</li>
<li>âŒ æ— æ’åº â†’ å¯èƒ½é‡å¤åŠ è½½ç›¸åŒå†…å®¹ï¼Œæˆ–è·³è¿‡æ–°å†…å®¹</li>
<li>âœ… ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µï¼ˆCursor Paginationï¼‰â†’ åŸºäºæœ€åä¸€æ¡è®°å½•çš„ ID
åŠ è½½ï¼Œå¤©ç„¶ç¨³å®š</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- æ¸¸æ ‡åˆ†é¡µç¤ºä¾‹</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> posts </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="kw">id</span> <span class="op">&lt;</span> ?last_seen_id </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="kw">id</span> <span class="kw">DESC</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">20</span>;</span></code></pre></div>
<h3 id="åœºæ™¯ä¸‰å¯¼å‡ºåˆ†é¡µæ•°æ®æ‰¹å¤„ç†">åœºæ™¯ä¸‰ï¼šå¯¼å‡ºåˆ†é¡µæ•°æ®ï¼ˆæ‰¹å¤„ç†ï¼‰</h3>
<ul>
<li>åå°ä»»åŠ¡åˆ†æ‰¹å¯¼å‡ºç™¾ä¸‡çº§æ•°æ®</li>
<li>âŒ æ— æ’åº â†’ å¯èƒ½æ¼å¯¼æˆ–é‡å¤å¯¼å‡º</li>
<li>âœ… æŒ‰ä¸»é”®åˆ†æ®µ + æ’åº â†’ ç¡®ä¿å…¨è¦†ç›–ã€æ— é‡å¤</li>
</ul>
<hr />
<h2 id="è·¨è¯­è¨€æ¡†æ¶å¯¹æ¯”">7. è·¨è¯­è¨€/æ¡†æ¶å¯¹æ¯”</h2>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 34%" />
<col style="width: 14%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr>
<th>è¯­è¨€/æ¡†æ¶</th>
<th>åˆ†é¡µå®ç°æ–¹å¼</th>
<th>æ˜¯å¦é»˜è®¤æ’åº</th>
<th>æ¨èåšæ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Java + MyBatis</strong></td>
<td><code>LIMIT #{offset}, #{limit}</code></td>
<td>âŒ å¦</td>
<td>åœ¨ Mapper XML ä¸­æ˜¾å¼å†™ <code>ORDER BY</code></td>
</tr>
<tr>
<td><strong>Python + Django</strong></td>
<td><code>QuerySet[offset:offset+limit]</code></td>
<td>âŒ å¦</td>
<td>è°ƒç”¨ <code>.order_by('id')</code> å†åˆ†é¡µ</td>
</tr>
<tr>
<td><strong>Go + GORM</strong></td>
<td><code>.Offset().Limit()</code></td>
<td>âŒ å¦</td>
<td>é“¾å¼è°ƒç”¨ <code>.Order("id")</code></td>
</tr>
<tr>
<td><strong>Node.js + Sequelize</strong></td>
<td><code>.findAll({ offset, limit })</code></td>
<td>âŒ å¦</td>
<td>åŠ  <code>order: [['id', 'ASC']]</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>âœ… <strong>å…±æ€§</strong>ï¼šæ‰€æœ‰ä¸»æµ ORM
éƒ½ä¸è‡ªåŠ¨æ·»åŠ æ’åºï¼Œå¼€å‘è€…å¿…é¡»æ˜¾å¼æŒ‡å®šã€‚</p>
</blockquote>
<hr />
<h2 id="å®æˆ˜æ¡ˆä¾‹spring-boot-mybatis-åˆ†é¡µé™·é˜±ä¸ä¿®å¤">8. å®æˆ˜æ¡ˆä¾‹ï¼šSpring
Boot + MyBatis åˆ†é¡µé™·é˜±ä¸ä¿®å¤</h2>
<h3 id="é—®é¢˜ä»£ç mybatis-mapper">é—®é¢˜ä»£ç ï¼ˆMyBatis Mapperï¼‰</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode xml"><code class="sourceCode xml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- âŒ å±é™©ï¼šæ— æ’åºåˆ†é¡µ --&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">select</span><span class="ot"> id=</span><span class="st">&quot;selectUsersByPage&quot;</span><span class="ot"> resultType=</span><span class="st">&quot;User&quot;</span>&gt;</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    SELECT id, name, email</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    FROM users</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    LIMIT #{offset}, #{limit}</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">select</span>&gt;</span></code></pre></div>
<h3 id="ä¿®å¤ä»£ç ">ä¿®å¤ä»£ç </h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode xml"><code class="sourceCode xml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- âœ… å®‰å…¨ï¼šæ˜¾å¼æ’åº --&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">select</span><span class="ot"> id=</span><span class="st">&quot;selectUsersByPage&quot;</span><span class="ot"> resultType=</span><span class="st">&quot;User&quot;</span>&gt;</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    SELECT id, name, email</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    FROM users</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    ORDER BY id ASC  <span class="co">&lt;!-- æˆ– created_at DESC, id ASC --&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    LIMIT #{offset}, #{limit}</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">select</span>&gt;</span></code></pre></div>
<h3 id="é›†æˆ-pagehelper-æ’ä»¶æ—¶çš„å‘">é›†æˆ PageHelper æ’ä»¶æ—¶çš„å‘</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">// âŒ PageHelper åªåŠ  LIMIT/OFFSETï¼Œä¸è‡ªåŠ¨åŠ  ORDER BY</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>PageHelper<span class="op">.</span><span class="fu">startPage</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span>User<span class="op">&gt;</span> users <span class="op">=</span> userMapper<span class="op">.</span><span class="fu">selectAll</span><span class="op">();</span> <span class="co">// è‹¥ Mapper æ—  ORDER BYï¼Œä»ä¸ç¨³å®š</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">// âœ… æ­£ç¡®åšæ³•ï¼šMapper ä¸­å†™æ­» ORDER BYï¼Œæˆ–åŠ¨æ€æ‹¼æ¥</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">@Select</span><span class="op">(</span><span class="st">&quot;SELECT * FROM users ORDER BY id LIMIT #{offset}, #{limit}&quot;</span><span class="op">)</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">List</span><span class="op">&lt;</span>User<span class="op">&gt;</span> <span class="fu">selectUsersByPage</span><span class="op">(</span><span class="at">@Param</span><span class="op">(</span><span class="st">&quot;offset&quot;</span><span class="op">)</span> <span class="dt">int</span> offset<span class="op">,</span> <span class="at">@Param</span><span class="op">(</span><span class="st">&quot;limit&quot;</span><span class="op">)</span> <span class="dt">int</span> limit<span class="op">);</span></span></code></pre></div>
<blockquote>
<p>ğŸ’¡ ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼šåœ¨ Service å±‚å°è£…åˆ†é¡µé€»è¾‘ï¼Œå¼ºåˆ¶æ ¡éªŒæ’åºå‚æ•°ã€‚</p>
</blockquote>
<hr />
<h2 id="æ€»ç»“">9. æ€»ç»“</h2>
<ul>
<li>âœ… <strong>å¿…é¡»æ˜¾å¼æ’åº</strong>ï¼šä»»ä½•åˆ†é¡µæŸ¥è¯¢å¿…é¡»åŒ…å«
<code>ORDER BY</code>ï¼Œå¦åˆ™ç»“æœä¸å¯é ã€‚</li>
<li>âœ…
<strong>æ’åºå­—æ®µå”¯ä¸€æ€§</strong>ï¼šä¼˜å…ˆä½¿ç”¨ä¸»é”®æˆ–å”¯ä¸€ç»„åˆå­—æ®µï¼Œé¿å…ç›¸åŒå€¼å¯¼è‡´è¾¹ç•Œæ¨¡ç³Šã€‚</li>
<li>âœ…
<strong>æ¸¸æ ‡åˆ†é¡µæ›´ä¼˜</strong>ï¼šå¤§æ•°æ®é‡ã€é«˜å¹¶å‘åœºæ™¯æ¨èæ¸¸æ ‡åˆ†é¡µï¼ˆåŸºäº ID
æˆ–æ—¶é—´æˆ³ï¼‰ã€‚</li>
<li>âŒ <strong>ä¸è¦ä¾èµ–â€œé»˜è®¤é¡ºåºâ€</strong>ï¼šæ•°æ®åº“ä¸æ‰¿è¯ºæ— 
<code>ORDER BY</code> æ—¶çš„é¡ºåºä¸€è‡´æ€§ã€‚</li>
<li>ğŸ› ï¸ <strong>æ¡†æ¶ä¸æ•‘ä½ </strong>ï¼šMyBatisã€Hibernateã€Django ORM
ç­‰å‡ä¸è‡ªåŠ¨æ·»åŠ æ’åºï¼Œè´£ä»»åœ¨å¼€å‘è€…ã€‚</li>
<li>ğŸ“Š
<strong>æµ‹è¯•è¦è¦†ç›–</strong>ï¼šåœ¨æµ‹è¯•ç¯å¢ƒä¸­æ¨¡æ‹Ÿæ•°æ®å˜æ›´ï¼ŒéªŒè¯åˆ†é¡µç¨³å®šæ€§ã€‚</li>
</ul>
<hr />
<h2 id="å»¶ä¼¸é˜…è¯»">10. å»¶ä¼¸é˜…è¯»</h2>
<ul>
<li>ğŸ“˜ ã€ŠSQL å¿…çŸ¥å¿…ä¼šã€‹ç¬¬ 15 ç« ï¼šæ’åºä¸åˆ†é¡µ</li>
<li>ğŸ“˜ ã€Šé«˜æ€§èƒ½ MySQLã€‹ç¬¬ 6 ç« ï¼šæŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–</li>
<li>ğŸ”— <a
href="https://www.postgresql.org/docs/current/queries-limit.html">PostgreSQL:
ORDER BY and LIMIT</a></li>
<li>ğŸ”— <a
href="https://dev.mysql.com/doc/refman/8.0/en/limit-optimization.html">MySQL:
LIMIT Query Optimization</a></li>
<li>ğŸ”— <a href="https://www.iso.org/standard/63555.html">SQL Standard
(ISO/IEC 9075-2:2016) - Section 7.13 <query expression></a></li>
<li>ğŸ” MyBatis-PageHelper
æºç ï¼šhttps://github.com/pagehelper/Mybatis-PageHelper</li>
</ul>
<hr />
<h2 id="ä¸€å¥è¯è®°å¿†">11. ä¸€å¥è¯è®°å¿†</h2>
<blockquote>
<p><strong>æ— æ’åºï¼Œå‹¿åˆ†é¡µ â€”â€” ç¨³å®šåˆ†é¡µçš„å”¯ä¸€æ³•åˆ™æ˜¯æ˜¾å¼ ORDER
BYã€‚</strong></p>
</blockquote>

                </div>
            </article>
            
            <footer class="footer">
                <p>AI ä¸ªäººç¬”è®° &copy; 2025 | æ‰€æœ‰å†…å®¹å‡ç”± AI ååŠ©ç”Ÿæˆ</p>
            </footer>
        </div>
        
        <div class="toc-container">
            <nav class="toc" id="table-of-contents">
                <h2>ç›®å½•</h2>
                <div id="toc-content"></div>
            </nav>
        </div>
    </div>
    
    <a href="#" class="back-to-top" id="backToTop">â†‘</a>
    
    <script>
        // Generate Table of Contents
        function generateTOC() {
            const tocContainer = document.getElementById('toc-content');
            const content = document.querySelector('.post-content');
            const headers = content.querySelectorAll('h1, h2, h3');
            
            if (headers.length === 0) {
                tocContainer.innerHTML = '<p>æš‚æ— ç›®å½•</p>';
                return;
            }
            
            const toc = document.createElement('ul');
            
            headers.forEach((header, index) => {
                // Add an id to the header if it doesn't have one
                if (!header.id) {
                    header.id = 'heading-' + index;
                }
                
                const li = document.createElement('li');
                li.className = 'toc-item';
                
                const link = document.createElement('a');
                link.href = '#' + header.id;
                link.textContent = header.textContent;
                link.className = 'toc-link';
                
                // Set indentation based on header level
                const level = parseInt(header.tagName.charAt(1)) - 1;
                li.style.marginLeft = (level * 20) + 'px';
                
                li.appendChild(link);
                toc.appendChild(li);
            });
            
            tocContainer.appendChild(toc);
        }
        
        // Adjust TOC height to match content
        function adjustTOCHeight() {
            const toc = document.getElementById('table-of-contents');
            const post = document.querySelector('.post');
            
            if (toc && post) {
                // Get the height of the post area
                const postHeight = post.offsetHeight;
                
                // Set the max-height of the TOC to match the post height
                // Leave some space for top margin and padding
                toc.style.maxHeight = Math.min(postHeight - 30, window.innerHeight * 0.8) + 'px';
            }
        }
        
        // Back to top button
        const backToTopButton = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
            }
        });
        
        backToTopButton.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({top: 0, behavior: 'smooth'});
        });
        
        // Initialize TOC when page loads and adjust height
        document.addEventListener('DOMContentLoaded', function() {
            generateTOC();
            adjustTOCHeight();
            
            // Adjust height on window resize
            window.addEventListener('resize', adjustTOCHeight);
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåæ·»åŠ å¤åˆ¶æŒ‰é’®
        window.addEventListener('load', function() {
            addCopyButtons();
        });
        
        // ç›‘å¬å¯èƒ½çš„åŠ¨æ€å†…å®¹åŠ è½½
        const observer = new MutationObserver(function(mutations) {
            let shouldAddButtons = false;
            mutations.forEach(function(mutation) {
                mutation.addedNodes.forEach(function(node) {
                    if (node.nodeType === 1) {
                        // æ£€æŸ¥æ·»åŠ çš„èŠ‚ç‚¹æ˜¯å¦æ˜¯ä»£ç å—æˆ–åŒ…å«ä»£ç å—
                        if ((node.classList && node.classList.contains('sourceCode')) || 
                            (node.tagName === 'PRE' && !node.classList.contains('mermaid')) ||
                            node.querySelector('.sourceCode, pre:not(.mermaid)')) {
                            shouldAddButtons = true;
                        }
                    }
                });
            });
            if (shouldAddButtons) {
                // å»¶è¿Ÿæ‰§è¡Œä»¥ç¡®ä¿DOMå®Œå…¨æ›´æ–°
                setTimeout(addCopyButtons, 100);
            }
        });
        
        // å¼€å§‹ç›‘å¬DOMå˜åŒ–
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
        
        console.log("é¡µé¢åŠ è½½å®Œæˆï¼ŒAI æŠ€æœ¯ç¬”è®°å·²å°±ç»ª");
    </script>
</body>
</html>