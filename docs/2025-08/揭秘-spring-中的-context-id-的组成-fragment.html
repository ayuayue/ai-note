<article class="post">
    <header class="post-header">
        <h1 class="post-title">揭秘-spring-中的-context-id-的组成</h1>
        <div class="post-meta">
            <div class="post-date">2025/8/24</div>
            <div class="post-category">2025-08</div>
        </div>
    </header>
    <div class="warning">
        ⚠️ 注意：此内容由 AI 协助生成，准确性未经验证，请谨慎使用
    </div>
    <div class="post-content" id="post-content">
        
                    <h2 id="揭秘-spring-中的-符号classnamehashcode-字符串的由来">揭秘 Spring
中的 <code>@</code> 符号：<code>ClassName@HashCode</code>
字符串的由来</h2>
<p>作为 Spring 开发者，你一定对下面这种输出格式非常熟悉：</p>
<pre><code>org.springframework.context.annotation.AnnotationConfigApplicationContext@1e643faf</code></pre>
<p>当我们尝试打印一个 Spring
容器（<code>ApplicationContext</code>）或其他 Spring 管理的 Bean
时，经常会看到这种由 <code>类全限定名</code> + <code>@</code> +
<code>十六进制字符串</code> 组成的输出。</p>
<p>很多初学者可能会疑惑：<code>1e643faf</code> 是什么？是我在哪里配置的
ID 吗？为什么每次运行程序，这个值都不一样？</p>
<p>今天，我们就来追根溯源，彻底搞清楚这个字符串的由来以及它背后体现的框架设计思想。</p>
<h3 id="最初的猜想是-object.tostring-吗">最初的猜想：是
<code>Object.toString()</code> 吗？</h3>
<p>Java 程序员的直觉会告诉我们，这看起来非常像
<code>java.lang.Object</code> 类的默认 <code>toString()</code>
方法的输出。让我们回顾一下 <code>Object.toString()</code>
的经典实现：</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">String</span> <span class="fu">toString</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">getClass</span><span class="op">().</span><span class="fu">getName</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;@&quot;</span> <span class="op">+</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">toHexString</span><span class="op">(</span><span class="fu">hashCode</span><span class="op">());</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre>
    </div>
</article>


<script>
    // Add copy buttons to code blocks
    function addCopyButtons() {
        const sourceCodeBlocks = document.querySelectorAll('.sourceCode');
        sourceCodeBlocks.forEach(function(block) {
            if (block.querySelector('.copy-button')) return;
            const preElement = block.querySelector('pre');
            if (!preElement) return;

            const button = document.createElement('button');
            button.className = 'copy-button';
            button.textContent = '复制';
            button.setAttribute('aria-label', '复制代码');

            button.addEventListener('click', function() {
                const code = preElement.querySelector('code');
                const text = code ? code.innerText : preElement.innerText;

                navigator.clipboard.writeText(text).then(function() {
                    button.textContent = '已复制';
                    button.classList.add('copied');

                    setTimeout(function() {
                        button.textContent = '复制';
                        button.classList.remove('copied');
                    }, 3000);
                }).catch(function(err) {
                    console.error('复制失败: ', err);
                    button.textContent = '失败';
                    setTimeout(function() {
                        button.textContent = '复制';
                    }, 3000);
                });
            });

            block.appendChild(button);
        });

        const allPreBlocks = document.querySelectorAll('pre:not(.mermaid)');
        allPreBlocks.forEach(function(block) {
            if (block.closest('.sourceCode') || block.querySelector('.copy-button')) return;

            const button = document.createElement('button');
            button.className = 'copy-button';
            button.textContent = '复制';
            button.setAttribute('aria-label', '复制代码');

            button.addEventListener('click', function() {
                const code = block.querySelector('code');
                const text = code ? code.innerText : block.innerText;

                navigator.clipboard.writeText(text).then(function() {
                    button.textContent = '已复制';
                    button.classList.add('copied');

                    setTimeout(function() {
                        button.textContent = '复制';
                        button.classList.remove('copied');
                    }, 3000);
                }).catch(function(err) {
                    console.error('复制失败: ', err);
                    button.textContent = '失败';
                    setTimeout(function() {
                        button.textContent = '复制';
                    }, 3000);
                });
            });

            block.appendChild(button);
        });
    }

    // Initialize copy buttons after content loads
    window.addEventListener('load', function() {
        addCopyButtons();
    });
</script>
